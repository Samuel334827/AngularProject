
<section class="w-1/2 mx-auto shadow px-3">
    <h2 class="text-center text-xl font-bold text-green-700">Forgot Password</h2>
    
    @if(step==1){
        <form [formGroup]="verifyEmail" class="shadow" (ngSubmit)="verifyEmailSubmit()">
            <div class="mb-1 py-1">
                <label for="email">Email</label>
                <input id="email" formControlName="email" type="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5">
            </div>
            @if(verifyEmail.get('email')?.errors && verifyEmail.get('email')?.touched){
                <div class="flex p-4 mt-1 text-sm text-red-800 rounded-lg bg-red-50" role="alert">
                    <div>
                        <ul class="mt-1.5 list-disc list-inside">
                          @if(verifyEmail.get('email')?.getError('required')){
                            <li>email is required</li>
                          }
                          @if(verifyEmail.get('email')?.getError('email')){
                            <li>email must be vaild</li>
                          }
                      </ul>
                    </div>
                </div>
            }
            @if(msgSuccess && step==1){
                <p class="bg-green-500 py-2">{{msgSuccess}}</p>
              }
            <button [disabled]="verifyEmail.invalid" class="disabled:bg-slate-600 btn-main">Verify Email</button>
        </form>
    }

    @else if(step==2){
        <form [formGroup]="verifyCode" class="shadow" (ngSubmit)="verifyCodeSubmit()">
            <div class="mb-1 py-1">
                <label for="resetCode">resetCode</label>
                <input id="resetCode" formControlName="resetCode" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5">
            </div>
            @if(verifyCode.get('resetCode')?.errors && verifyCode.get('resetCode')?.touched){
                <div class="flex p-4 mt-1 text-sm text-red-800 rounded-lg bg-red-50" role="alert">
                    <div>
                        <ul class="mt-1.5 list-disc list-inside">
                          @if(verifyCode.get('resetCode')?.getError('required')){
                            <li>resetCode is required</li>
                          }
                          @if(verifyCode.get('resetCode')?.getError('resetCode')){
                            <li>resetCode must be vaild</li>
                          }
                      </ul>
                    </div>
                </div>
            }
            
            <button [disabled]="verifyCode.invalid" class="disabled:bg-slate-600 btn-main">Verify code</button>
        </form>
    }
    
    @else if(step==3){
        <form [formGroup]="resetPassword" class="shadow" (ngSubmit)="resetPasswordSubmit()">
            <div class="mb-1 py-1">
                <label for="email">Email</label>
                <input id="email" formControlName="email" type="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5">
            </div>
            @if(verifyEmail.get('email')?.errors && verifyEmail.get('email')?.touched){
                <div class="flex p-4 mt-1 text-sm text-red-800 rounded-lg bg-red-50" role="alert">
                    <div>
                        <ul class="mt-1.5 list-disc list-inside">
                          @if(verifyEmail.get('email')?.getError('required')){
                            <li>email is required</li>
                          }
                          @if(verifyEmail.get('email')?.getError('email')){
                            <li>email must be vaild</li>
                          }
                      </ul>
                    </div>
                </div>
            }
            <div class="mb-1 py-1">
                <label for="newPassword">newPassword</label>
                <input id="newPassword" formControlName="newPassword" type="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5">
            </div>
            @if(resetPassword.get('newPassword')?.errors && resetPassword.get('newPassword')?.touched){
                <div class="flex p-4 mt-1 text-sm text-red-800 rounded-lg bg-red-50" role="alert">
                    <div>
                        <ul class="mt-1.5 list-disc list-inside">
                          @if(resetPassword.get('newPassword')?.getError('required')){
                            <li>newPassword is required</li>
                          }
                          @if(resetPassword.get('newPassword')?.getError('newPassword')){
                            <li>newPassword must be vaild</li>
                          }
                      </ul>
                    </div>
                </div>
            }
            <button [disabled]="resetPassword.invalid" class="disabled:bg-slate-600 btn-main">Login</button>
        </form>
    }
</section>



